{
   "$schema":"http://json-schema.org/draft-07/schema#",
   "$ref":"#/definitions/Main",
   "definitions":{
      "Main":{
         "title":"subscription_results",
         "type":"object",
         "additionalProperties":false,
         "properties":{
            "version":{
               "type":"integer"
            },
            "payload":{
               "anyOf":[
                  {
                     "type":"object",
                     "title":"payload_v3",
                     "additionalProperties":false,
                     "properties":{
                        "subscription_id":{
                           "type":"string",
                           "minLength":1
                        },
                        "request":{
                           "type":"object"
                        },
                        "result":{
                           "type":"object",
                           "properties":{
                              "data":{
                                 "type":"array",
                                 "minItems":0,
                                 "items":{
                                    "type":"object",
                                    "minProperties":1,
                                    "additionalProperties":{
                                       "type":[
                                          "number",
                                          "null"
                                       ]
                                    }
                                 }
                              }
                           },
                           "required":[
                              "data"
                           ]
                        },
                        "timestamp":{
                           "type":"string",
                           "format":"date-time"
                        },
                        "entity":{
                           "type":"string",
                           "minLength":1
                        }
                     },
                     "required":[
                        "subscription_id",
                        "request",
                        "result",
                        "timestamp",
                        "entity"
                     ]
                  },
                  {
                     "type":"object",
                     "title":"payload_v2",
                     "additionalProperties":false,
                     "properties":{
                        "subscription_id":{
                           "type":"string",
                           "minLength":1
                        },
                        "request":{
                           "type":"object"
                        },
                        "result":{
                           "type":"object",
                           "properties":{
                              "data":{
                                 "type":"array",
                                 "minItems":1,
                                 "items":{
                                    "type":"object",
                                    "minProperties":1,
                                    "additionalProperties":{
                                       "type":[
                                          "number",
                                          "null"
                                       ]
                                    }
                                 }
                              }
                           },
                           "required":[
                              "data"
                           ]
                        },
                        "timestamp":{
                           "type":"string",
                           "format":"date-time"
                        },
                        "entity":{
                           "type":"string",
                           "minLength":1
                        }
                     },
                     "required":[
                        "subscription_id",
                        "request",
                        "result",
                        "timestamp"
                     ]
                  }
               ]
            }
         }
      },
      "required":[
         "version",
         "payload"
      ]
   }
}